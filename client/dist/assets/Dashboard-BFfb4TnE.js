import{u as o,a,r as m,f as h,b as g,c as y,d as j,j as e,e as l}from"./index-B2YoZsyB.js";const v=()=>{const d=o(),{user:s}=a(t=>t.auth),{products:f,productStats:u}=a(t=>t.products),{stockSummary:c,entrees:x,sorties:n,activity:p,loading:b}=a(t=>t.reports);m.useEffect(()=>{d(h()),d(g()),d(y()),d(j())},[d]),console.log("user:",s);const i=c.reduce((t,r)=>(r.status==="In Stock"?t.inStock+=1:t.outOfStock+=1,t),{inStock:0,outOfStock:0});return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),e.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[s==null?void 0:s.role," : ",s==null?void 0:s.username]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Product Inventory Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[e.jsx("h3",{className:"text-sm text-gray-500",children:"In Stock"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.inStock})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-red-50",children:[e.jsx("h3",{className:"text-sm text-gray-500",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.outOfStock})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Stock Entries"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Marking code"}),e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Ref"}),e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Qte"}),e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"By"}),e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.slice(0,20).map((t,r)=>e.jsxs("tr",{className:"text-sm border-b hover:bg-gray-50",children:[e.jsx("td",{children:t.product}),e.jsx("td",{children:t.ref}),e.jsx("td",{children:t.quantity}),e.jsx("td",{children:t.addedBy}),e.jsx("td",{children:l(new Date(t.date),"dd/MM/yyyy")})]},r))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Stock Removals"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Marking code"}),e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Ref"}),e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Qte"}),e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"By"}),e.jsx("th",{className:"px-1 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.slice(0,20).map((t,r)=>e.jsxs("tr",{className:"text-sm border-b hover:bg-gray-50",children:[e.jsx("td",{children:t.product}),e.jsx("td",{children:t.ref}),e.jsx("td",{children:t.quantity}),e.jsx("td",{children:t.requestedBy}),e.jsx("td",{children:l(new Date(t.date),"dd/MM/yyyy")})]},r))})]})})]})]})]})};export{v as default};
